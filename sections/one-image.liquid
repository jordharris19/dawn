{% comment %}
  sections/one-image.liquid
{% endcomment %}

<section id="one-image-{{ section.id }}" class="one-image-section">
  {% for block in section.blocks %}
    {% if block.type == 'single_image' and block.settings.image %}
      <div
        class="one-image-wrapper"
        style="
          text-align: {{ block.settings.alignment }};
        "
      >
        <img
          src="{{ block.settings.image | img_url: 'master' }}"
          alt="{{ block.settings.image.alt | escape }}"
          class="one-image"
          style="
            display: inline-block;
            width: {{ block.settings.width }}%;
          "
        />
      </div>
    {% endif %}
  {% endfor %}
</section>

{% schema %}
{
  "name": "Single Image Section",
  "settings": [
    {
      "type": "header",
      "content": "Add exactly one image block below"
    }
  ],
  "blocks": [
    {
      "type": "single_image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Select image"
        },
        {
          "type": "select",
          "id": "alignment",
          "label": "Image alignment",
          "options": [
            { "value": "left",   "label": "Left" },
            { "value": "center", "label": "Center" },
            { "value": "right",  "label": "Right" }
          ],
          "default": "center"
        },
        {
          "type": "range",
          "id": "width",
          "label": "Image width (%)",
          "min": 10,
          "max": 100,
          "step": 1,
          "unit": "%",
          "default": 100
        }
      ]
    }
  ],
  "max_blocks": 1,
  "presets": [
    {
      "name": "Single Image",
      "category": "Media"
    }
  ]
}
{% endschema %}
